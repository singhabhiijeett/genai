<?xml version="1.0" encoding="UTF-8"?>
<svg width="600" height="300" viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bg-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#1a1f2e" />
      <stop offset="100%" stop-color="#0f1117" />
    </linearGradient>
    <linearGradient id="blue-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#ef4444" />
      <stop offset="100%" stop-color="#f87171" />
    </linearGradient>
    <linearGradient id="green-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#10b981" />
      <stop offset="100%" stop-color="#34d399" />
    </linearGradient>
    <linearGradient id="orange-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#f59e0b" />
      <stop offset="100%" stop-color="#fbbf24" />
    </linearGradient>
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="4" result="blur" />
      <feComposite in="SourceGraphic" in2="blur" operator="over" />
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="600" height="300" rx="15" fill="url(#bg-gradient)" />
  
  <!-- Title -->
  <text x="300" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white" text-anchor="middle">
    RAG System Architecture
  </text>
  
  <!-- User input section -->
  <rect x="40" y="60" width="120" height="60" rx="10" fill="#353945" stroke="#60a5fa" stroke-width="1" />
  <text x="100" y="90" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
    User Query
  </text>
  <text x="100" y="110" font-family="Arial, sans-serif" font-size="10" fill="#9ca3af" text-anchor="middle">
    "What is a binary tree?"
  </text>
  
  <!-- Query transformation -->
  <rect x="40" y="150" width="120" height="60" rx="10" fill="#353945" stroke="url(#blue-gradient)" stroke-width="1" />
  <text x="100" y="175" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
    Query
  </text>
  <text x="100" y="195" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
    Transformation
  </text>
  
  <!-- Arrow down -->
  <line x1="100" y1="125" x2="100" y2="145" stroke="url(#blue-gradient)" stroke-width="2" stroke-dasharray="5,3" />
  <polygon points="100,150 95,140 105,140" fill="url(#blue-gradient)" />
  
  <!-- Vector embedding -->
  <rect x="200" y="120" width="120" height="60" rx="10" fill="#353945" stroke="url(#green-gradient)" stroke-width="1" />
  <text x="260" y="145" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
    Convert to
  </text>
  <text x="260" y="165" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
    Vector Embedding
  </text>
  
  <!-- Arrow right -->
  <line x1="165" y1="180" x2="195" y2="150" stroke="url(#green-gradient)" stroke-width="2" />
  <polygon points="200,145 190,155 190,145" fill="url(#green-gradient)" />
  
  <!-- Vector database -->
  <rect x="360" y="60" width="120" height="60" rx="10" fill="#353945" stroke="url(#orange-gradient)" stroke-width="1" />
  <text x="420" y="90" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
    Vector Database
  </text>
  <text x="420" y="110" font-family="Arial, sans-serif" font-size="10" fill="#9ca3af" text-anchor="middle">
    (Pinecone)
  </text>
  
  <!-- Arrow to DB -->
  <line x1="325" y1="140" x2="380" y2="120" stroke="url(#orange-gradient)" stroke-width="2" />
  <polygon points="385,117 375,127 375,117" fill="url(#orange-gradient)" />
  
  <!-- Results section -->
  <rect x="360" y="150" width="120" height="60" rx="10" fill="#353945" stroke="url(#green-gradient)" stroke-width="1" />
  <text x="420" y="175" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
    Retrieve Relevant
  </text>
  <text x="420" y="195" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
    Documents
  </text>
  
  <!-- Arrow DB to results -->
  <line x1="420" y1="125" x2="420" y2="145" stroke="url(#green-gradient)" stroke-width="2" stroke-dasharray="5,3" />
  <polygon points="420,150 415,140 425,140" fill="url(#green-gradient)" />
  
  <!-- LLM section -->
  <rect x="200" y="220" width="200" height="60" rx="10" fill="#353945" stroke="url(#blue-gradient)" stroke-width="1" />
  <text x="300" y="250" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">
    Large Language Model
  </text>
  <text x="300" y="270" font-family="Arial, sans-serif" font-size="10" fill="#9ca3af" text-anchor="middle">
    (Gemini)
  </text>
  
  <!-- Arrow results to LLM -->
  <line x1="360" y1="180" x2="300" y2="215" stroke="url(#blue-gradient)" stroke-width="2" />
  <polygon points="300,220 295,210 305,210" fill="url(#blue-gradient)" />
  
  <!-- Arrow query to LLM -->
  <line x1="100" y1="215" x2="195" y2="240" stroke="url(#blue-gradient)" stroke-width="2" />
  <polygon points="200,240 190,245 190,235" fill="url(#blue-gradient)" />
  
  <!-- Final answer -->
  <rect x="460" y="220" width="120" height="60" rx="10" fill="#353945" stroke="white" stroke-width="1" />
  <text x="520" y="250" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
    Augmented
  </text>
  <text x="520" y="270" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
    Response
  </text>
  
  <!-- Arrow LLM to response -->
  <line x1="405" y1="250" x2="455" y2="250" stroke="white" stroke-width="2" />
  <polygon points="460,250 450,245 450,255" fill="white" />
  
  <!-- Legend -->
  <rect x="480" y="10" width="10" height="10" rx="2" fill="url(#blue-gradient)" />
  <text x="495" y="18" font-family="Arial, sans-serif" font-size="10" fill="#9ca3af">Query Flow</text>
  
  <rect x="480" y="25" width="10" height="10" rx="2" fill="url(#green-gradient)" />
  <text x="495" y="33" font-family="Arial, sans-serif" font-size="10" fill="#9ca3af">Embeddings</text>
  
  <rect x="480" y="40" width="10" height="10" rx="2" fill="url(#orange-gradient)" />
  <text x="495" y="48" font-family="Arial, sans-serif" font-size="10" fill="#9ca3af">Vector Search</text>
</svg>
